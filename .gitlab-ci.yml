image: python:3.10


ci:
  stage: ci
  script:
    - pip install poetry
    - poetry install
    - poetry run ruff format --check .
    - poetry run ruff check .
    - petry run coverage run -m pytest --verbose
    # - find . -type f -name "*.py" | xargs -t coverage report
format:
  stage: format-check
  needs:
    - deps
  script:
    - poetry run ruff format --check .
    - poetry run ruff check .
    # - coverage run -m pytest --verbose
    # - find . -type f -name "*.py" | xargs -t coverage report
